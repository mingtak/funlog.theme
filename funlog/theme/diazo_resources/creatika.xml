<?xml version="1.0" encoding="UTF-8"?>
<rules
    xmlns="http://namespaces.plone.org/diazo"
    xmlns:css="http://namespaces.plone.org/diazo/css"
    xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
    xmlns:xi="http://www.w3.org/2001/XInclude">


  <rules css:if-content="#visual-portal-wrapper">

    <theme href="creatika/diazo_album.html" if="$contenttype='Album'" />
    <theme href="creatika/diazo_folder.html" if="$contenttype='Folder'" />
    <theme href="creatika/diazo_article.html" if="$contenttype='Article'" />
    <theme href="creatika/diazo_travel.html" if="$contenttype='Travel'" />
    <notheme css:if-content=".template-add-form" />
    <notheme css:if-content=".template-edit-form" />

    <!-- nav menu -->
    <replace css:theme-children="ul#menu" css:content-children="ul#funlog-menu-ul" />
      <!-- dropdown menu -->
      <replace css:content="li.top-level-menu">
        <xsl:copy>
          <xsl:attribute name="class"><xsl:value-of select="./@class" /> dropdown</xsl:attribute>
          <xsl:apply-templates />
        </xsl:copy>
      </replace>
      <!-- current selected -->
      <replace css:content="li.top-level-menu.selected">
        <xsl:copy>
          <xsl:attribute name="class"><xsl:value-of select="./@class" /> dropdown current</xsl:attribute>
          <xsl:apply-templates />
        </xsl:copy>
      </replace>

    <!-- ifolder_iportaltop_slide -->
    <replace css:theme="div.fullwidthbanner > ul" css:content="ul#funlog-slide-banner" />
      <!-- slide show -->
      <replace css:content="ul#funlog-slide-banner li">
        <xsl:copy>
          <xsl:attribute name="data-transition">fade</xsl:attribute>
          <xsl:apply-templates />
        </xsl:copy>
      </replace>
      <!-- blogName, title -->
      <replace css:content="div#slide-show-blog-title">
        <xsl:copy>
          <xsl:attribute name="class">caption headline sft</xsl:attribute>
          <xsl:attribute name="data-x">center</xsl:attribute>
          <xsl:attribute name="data-y">100</xsl:attribute>
          <xsl:attribute name="data-speed">700</xsl:attribute>
          <xsl:attribute name="data-start">700</xsl:attribute>
          <xsl:attribute name="data-easing">easeOutBack</xsl:attribute>
          <xsl:element name="span">
            <xsl:attribute name="class">bullet</xsl:attribute>
          </xsl:element>
          <xsl:apply-templates />
        </xsl:copy>
      </replace>
      <!-- blogDescription, description -->
      <replace css:content="div#slide-show-blog-description">
        <xsl:copy>
          <xsl:attribute name="class">caption text text-center sfr</xsl:attribute>
          <xsl:attribute name="data-x">center</xsl:attribute>
          <xsl:attribute name="data-y">400</xsl:attribute>
          <xsl:attribute name="data-speed">700</xsl:attribute>
          <xsl:attribute name="data-start">2000</xsl:attribute>
          <xsl:attribute name="data-easing">easeOutBack</xsl:attribute>
          <xsl:apply-templates />
        </xsl:copy>
      </replace>

    <!-- All site search -->
    <copy attributes="action method" css:theme="form#custom-search-form" css:content="div.funlog_site_search form" />
    <copy attributes="name placeholder" css:theme="form#custom-search-form input" css:content="div.funlog_site_search form input" />


    <!-- social-link -->
    <replace css:theme-children="div#header-top-widget-area-2 div.fixed"
             css:content-children="div#funlog-social-link" />
      <!-- social-link icon -->
      <replace css:content="div#funlog-social-link a">
        <xsl:for-each css:select="a">
          <xsl:element name="a">
            <xsl:choose>
              <xsl:when test="./@class = 'email'">
                <xsl:attribute name="class">googleplus-icon social-icon</xsl:attribute>
                <xsl:attribute name="href"><xsl:value-of select="./@href" /></xsl:attribute>
                <xsl:element name="i"><xsl:attribute name="class">fa fa-mail-reply</xsl:attribute></xsl:element>
              </xsl:when>
              <xsl:when test="./@class = 'webpage'">
                <xsl:attribute name="class">xing-icon social-icon</xsl:attribute>
                <xsl:attribute name="target">_blank</xsl:attribute>
                <xsl:attribute name="href"><xsl:value-of select="./@href" /></xsl:attribute>
                <xsl:element name="i"><xsl:attribute name="class">fa fa-sitemap</xsl:attribute></xsl:element>
              </xsl:when>
              <xsl:when test="./@class = 'linkedin'">
                <xsl:attribute name="class">linkedin-icon social-icon</xsl:attribute>
                <xsl:attribute name="target">_blank</xsl:attribute>
                <xsl:attribute name="href"><xsl:value-of select="./@href" /></xsl:attribute>
                <xsl:element name="i"><xsl:attribute name="class">fa fa-linkedin</xsl:attribute></xsl:element>
              </xsl:when>
              <xsl:when test="./@class = 'twitter'">
                <xsl:attribute name="class">twitter-icon social-icon</xsl:attribute>
                <xsl:attribute name="target">_blank</xsl:attribute>
                <xsl:attribute name="href"><xsl:value-of select="./@href" /></xsl:attribute>
                <xsl:element name="i"><xsl:attribute name="class">fa fa-twitter</xsl:attribute></xsl:element>
              </xsl:when>
              <xsl:when test="./@class = 'facebook'">
                <xsl:attribute name="class">facebook-icon social-icon</xsl:attribute>
                <xsl:attribute name="target">_blank</xsl:attribute>
                <xsl:attribute name="href"><xsl:value-of select="./@href" /></xsl:attribute>
                <xsl:element name="i"><xsl:attribute name="class">fa fa-facebook</xsl:attribute></xsl:element> 
              </xsl:when>
              <xsl:when test="./@class = 'google-plus'">
                <xsl:attribute name="class">pinterest-icon social-icon</xsl:attribute>
                <xsl:attribute name="target">_blank</xsl:attribute>
                <xsl:attribute name="href"><xsl:value-of select="./@href" /></xsl:attribute>
                <xsl:element name="i"><xsl:attribute name="class">fa fa-google-plus</xsl:attribute></xsl:element>
              </xsl:when>
            </xsl:choose>
            <xsl:apply-templates />
          </xsl:element>
        </xsl:for-each>
      </replace>

      <!-- portal-column-tow, sidebar, right -->
      <replace css:theme-children="div.row div.span4" css:content-children="div#portal-column-two" />

      <!-- system_widget_list, custom list -->
      <replace css:content="div.system_widget_list">
        <xsl:copy>
          <xsl:attribute name="class">widget ewf_widget_navigation</xsl:attribute>
          <xsl:apply-templates />
        </xsl:copy>
      </replace>

      <!-- portal-footer -->
      <replace css:theme-children="div#footer div.textwidget" css:content-children="div#portal-footer" />
      <replace css:content="div#portal-footer a">
        <xsl:copy>
          <xsl:attribute name="style">color:#6DD24E</xsl:attribute>
          <xsl:attribute name="href"><xsl:value-of select="./@href" /></xsl:attribute>
          <xsl:apply-templates />
        </xsl:copy>
      </replace>


      <!-- Type:Folder, content list -->
      <rules if="$contenttype='Folder'">
        <xi:include href="++theme++funlog.theme/creatika_folder.xml" />
      </rules>

      <!-- Type:Album, photo list -->
      <rules if="$contenttype='Album'">
        <xi:include href="++theme++funlog.theme/creatika_album.xml" />
      </rules>

      <!-- Type:Article -->
      <rules if="$contenttype='Article'">
        <xi:include href="++theme++funlog.theme/creatika_article.xml" />
      </rules>

      <!-- Type:Travel -->
      <rules if="$contenttype='Travel'">
        <xi:include href="++theme++funlog.theme/creatika_travel.xml" />
      </rules>

  </rules>

</rules>
